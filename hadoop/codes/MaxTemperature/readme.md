## 1. 使用方法
> [参考文档](https://www.cnblogs.com/shishanyuan/p/4177908.html)
### 1-1. 单机模式
1. 确认环境
    1. 单机模式,jps里没有任何数据
    2. 我的实验环境中`hadoop/etc/hadoop`是单机模式的`hadoop-local`目录的软连接
2. 准备数据
3. 编译java程序,打包成jar,使用hadoop执行
4. 验证
```
#######################################################################################################
# 确认环境
#######################################################################################################
jps
#------------------------------------------------------------------------------------------------------
# 50930 Jps
#------------------------------------------------------------------------------------------------------





#######################################################################################################
# 准备数据
#######################################################################################################
mkdir -p /usr/local/hadoop/data/in
vim /usr/local/hadoop/data/in/sample.txt
#########################################################################################
0067011990999991950051507004888888889999999N9+00001+9999999999999999999999
0067011990999991950051512004888888889999999N9+00221+9999999999999999999999
0067011990999991950051518004888888889999999N9-00111+9999999999999999999999
0067011990999991949032412004888888889999999N9+01111+9999999999999999999999
0067011990999991950032418004888888880500001N9+00001+9999999999999999999999
0067011990999991950051507004888888880500001N9+00781+9999999999999999999999
#########################################################################################


#++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
# 需要下面三个文件(文件名和内容见和这个文档同级的目录)
# 1. JobMain.java
# 2. MaxTemperatureMapper.java
# 3. MaxTemperatureReducer.java
#++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++





#######################################################################################################
# 编译java程序,打包成jar,使用hadoop执行
#######################################################################################################
javac -classpath $(hadoop classpath) *.java
jar cvf ./JobMain.jar ./*.class
hadoop jar JobMain.jar JobMain /usr/local/hadoop/data/in/sample.txt  /usr/local/hadoop/data/out




#######################################################################################################
# 验证
#######################################################################################################
echo $?
cat /usr/local/hadoop/data/out/part-r-00000 # _SUCCESS是标记文件,说明成功执行了
#--------------------------------------------------------------------------------------------
# 1949	111
# 1950	78
#--------------------------------------------------------------------------------------------
```

### 1-2. 分布式
1. 编写好MapReduce的jar程序
2. 上传数据文件到HDFS里
3. 执行hadoop
```

hadoop fs -ls -R /
hadoop fs -mkdir -p /data
hadoop fs -put /usr/local/hadoop/data/in/sample.txt /data/ # put上传本地文件到HDFS
hadoop fs -ls -R /


hadoop jar JobMain.jar JobMain /data/sample.txt /data/output
hadoop fs -cat /data/output/part-r-00000
#+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
1949	111
1950	78
#+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
```
